Version 4
SHEET 1 1768 680
WIRE 112 -576 -48 -576
WIRE 224 -576 112 -576
WIRE 368 -576 224 -576
WIRE 528 -576 368 -576
WIRE 672 -576 624 -576
WIRE 912 -576 672 -576
WIRE 1040 -576 912 -576
WIRE 1040 -560 1040 -576
WIRE 112 -544 112 -576
WIRE 224 -544 224 -576
WIRE 912 -544 912 -576
WIRE 368 -528 368 -576
WIRE 672 -496 672 -576
WIRE 1040 -448 1040 -480
WIRE 16 -432 -528 -432
WIRE 112 -432 112 -464
WIRE 112 -432 16 -432
WIRE 128 -432 112 -432
WIRE 224 -432 224 -464
WIRE 224 -432 192 -432
WIRE 368 -432 368 -464
WIRE 368 -432 224 -432
WIRE 544 -432 544 -528
WIRE 544 -432 368 -432
WIRE 544 -368 544 -432
WIRE 672 -368 672 -432
WIRE 720 -368 672 -368
WIRE 912 -368 912 -464
WIRE 912 -368 800 -368
WIRE 16 -352 16 -432
WIRE 672 -288 672 -368
WIRE 672 -288 592 -288
WIRE 16 -240 16 -272
WIRE 544 -224 544 -272
WIRE 112 -160 112 -432
WIRE 192 -160 112 -160
WIRE 912 -160 912 -368
WIRE 912 -160 256 -160
WIRE 992 48 992 16
WIRE 1376 48 1376 16
WIRE -336 64 -656 64
WIRE -336 128 -336 64
WIRE -528 144 -528 -432
WIRE -368 144 -528 144
WIRE -656 160 -656 64
WIRE -288 160 -304 160
WIRE -144 160 -288 160
WIRE -368 176 -432 176
WIRE -144 176 -144 160
WIRE -336 208 -336 192
WIRE -432 272 -432 176
WIRE -384 272 -432 272
WIRE -288 272 -288 160
WIRE -288 272 -304 272
WIRE -144 272 -144 256
FLAG 544 -224 0
FLAG -48 -576 V+
FLAG 1040 -576 V_O
FLAG 992 48 0
FLAG -416 -496 0
FLAG -416 -576 V+
FLAG 992 -64 SW_ctrl
FLAG -32 -288 SW_ctrl
FLAG 1040 -448 0
FLAG -32 -336 0
FLAG 16 -240 0
FLAG 1376 -64 SW_ctrl
FLAG 1376 48 0
FLAG 16 -432 switching
FLAG -336 208 0
FLAG -144 272 0
FLAG -656 240 0
SYMBOL voltage 992 -80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=.1
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 1 1E-6 1E-6 .4 3 2)
SYMBOL res 96 -560 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 208 -560 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL pmos 624 -528 M270
SYMATTR InstName M1
SYMATTR Value IRF7309P
SYMBOL nmos 592 -368 M0
SYMATTR InstName M2
SYMATTR Value IRFH7914
SYMBOL sw 16 -368 R0
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL voltage -416 -592 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 .1 1e-6 1e-6 10 10.1)
SYMBOL res 896 -560 R0
SYMATTR InstName R1
SYMATTR Value 270k
SYMBOL res 1024 -576 R0
SYMATTR InstName R2
SYMATTR Value 1e6
SYMBOL cap 352 -528 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL cap 192 -448 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL cap 656 -496 R0
SYMATTR InstName C3
SYMATTR Value 4.7µ
SYMBOL res 816 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 330k
SYMBOL diode 256 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL voltage 1376 -80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=.1
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 5 1E-6 1E-6 4 10)
SYMBOL Opamps\\UniversalOpamp2 -336 160 R0
SYMATTR InstName U1
SYMBOL res -288 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1m
SYMBOL res -160 160 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL voltage -656 144 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 5
TEXT -336 -1000 Left 2 !.tran 10
TEXT -216 -40 Left 2 !.model MYSW SW(Ron=1 Roff=10Meg Vt=.5 Vh=-.4)
TEXT 672 -648 Left 2 ;MOSFETS use DMC2700UDM-7 in SOT-23-6 package
TEXT 960 -360 Left 2 ;Switch-off time determined by TC of C3 and R3
TEXT 200 -96 Left 2 ;1N4148 or equivalent
